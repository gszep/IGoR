SOURCES = Aligner.cpp Aligner.h Bestscenarioscounter.cpp Bestscenarioscounter.h CDR3SeqData.h CDR3SeqData.cpp Counter.cpp Counter.h Coverageerrcounter.cpp Coverageerrcounter.h Deletion.cpp Deletion.h Dinuclmarkov.cpp Dinuclmarkov.h Errorscounter.cpp Errorscounter.h Errorrate.cpp Errorrate.h ExtractFeatures.h ExtractFeatures.cpp Genechoice.cpp Genechoice.h GenModel.cpp GenModel.h HypermutationfullNmererrorrate.cpp HypermutationfullNmererrorrate.h Hypermutationglobalerrorrate.cpp Hypermutationglobalerrorrate.h Insertion.cpp Insertion.h IntStr.cpp IntStr.h Model_marginals.cpp Model_marginals.h Model_Parms.cpp Model_Parms.h Pgencounter.cpp Pgencounter.h Rec_Event.cpp Rec_Event.h Singleerrorrate.cpp Singleerrorrate.h Utils.cpp Utils.h

pkgdatadir = /usr/local/share/igor/
OPENMP_CXXFLAGS = -fopenmp
srcdir = .
# igor_LDADD = ../libs/gsl_sub/libgsl_sub.la ../libs/jemalloc/lib/libjemalloc.a -lpthread -ldl
igor_LDADD = ../libs/gsl_sub/.libs/libgsl_sub.a ../libs/jemalloc/lib/libjemalloc.a -lpthread -ldl
igor_CXXFLAGS = -I$(srcdir)/../libs/jemalloc/include/jemalloc -I$(srcdir)/../libs/gsl_sub $(OPENMP_CXXFLAGS)
# -D IGOR_DATA_DIR="."
CXX = g++-7
O_FILES = Aligner.o Bestscenarioscounter.o CDR3SeqData.o Counter.o Coverageerrcounter.o Deletion.o Dinuclmarkov.o Errorrate.o Errorscounter.o ExtractFeatures.o GenModel.o Genechoice.o HypermutationfullNmererrorrate.o Hypermutationglobalerrorrate.o Insertion.o IntStr.o Model_Parms.o Model_marginals.o Pgencounter.o Rec_Event.o Singleerrorrate.o Utils.o

all:$(O_FILES) main.o
	$(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(igor_CXXFLAGS) $(CXXFLAGS) $(O_FILES) main.o $(igor_LDADD) -o igor 

main.o:main.cpp
	$(CXX) $(igor_CXXFLAGS) -DIGOR_DATA_DIR=\"$(pkgdatadir)\" -c main.cpp $(igor_LDADD)

Aligner.o:Aligner.cpp Aligner.h
	$(CXX)  -c Aligner.cpp $(igor_LDADD)

Bestscenarioscounter.o:Bestscenarioscounter.cpp Bestscenarioscounter.h Genechoice.o Deletion.o Insertion.o Counter.o
	$(CXX) $(igor_CXXFLAGS)  -c Genechoice.o Deletion.o Insertion.o Counter.o Bestscenarioscounter.cpp $(igor_LDADD)

CDR3SeqData.o:CDR3SeqData.cpp CDR3SeqData.h
	$(CXX)  -c CDR3SeqData.cpp $(igor_LDADD) 

Counter.o:Counter.cpp Counter.h Model_Parms.o Model_marginals.o IntStr.o Utils.o
	$(CXX)  $(igor_CXXFLAGS) -c Model_Parms.o Model_marginals.o IntStr.o Utils.o Counter.cpp $(igor_LDADD) 

Coverageerrcounter.o:Coverageerrcounter.cpp Coverageerrcounter.h Counter.o
	$(CXX)  $(igor_CXXFLAGS) -c Counter.o Coverageerrcounter.cpp $(igor_LDADD)

Deletion.o:Deletion.cpp Deletion.h Rec_Event.o Utils.o Errorrate.o
	$(CXX)  -c Rec_Event.o Utils.o Errorrate.o Deletion.cpp $(igor_LDADD)

Dinuclmarkov.o:Dinuclmarkov.cpp Dinuclmarkov.h Rec_Event.o Utils.o Errorrate.o
	$(CXX)  -c Rec_Event.o Utils.o Errorrate.o Dinuclmarkov.cpp $(igor_LDADD)

Errorrate.o:Errorrate.cpp Errorrate.h Utils.o IntStr.o
	$(CXX)  -c Utils.o IntStr.o Errorrate.cpp $(igor_LDADD)

Errorscounter.o:Errorscounter.cpp Errorscounter.h Counter.o
	$(CXX) $(igor_CXXFLAGS)  -c Errorscounter.h Counter.o Errorscounter.cpp $(igor_LDADD)

ExtractFeatures.o:ExtractFeatures.cpp ExtractFeatures.h CDR3SeqData.o Aligner.o Utils.o
	$(CXX)  -c CDR3SeqData.o Aligner.o Utils.o ExtractFeatures.cpp  $(igor_LDADD)

GenModel.o:GenModel.cpp GenModel.h Model_Parms.o Rec_Event.o Counter.o Model_marginals.o Errorrate.o 
	$(CXX) $(igor_CXXFLAGS)  -c Model_Parms.o Rec_Event.o Counter.o Model_marginals.o Errorrate.o  GenModel.cpp $(igor_LDADD)

Genechoice.o:Genechoice.cpp Genechoice.h Rec_Event.o Errorrate.o
	$(CXX)  -c Genechoice.h Rec_Event.o Errorrate.o Genechoice.cpp $(igor_LDADD)

HypermutationfullNmererrorrate.o:HypermutationfullNmererrorrate.cpp HypermutationfullNmererrorrate.h Errorrate.o Genechoice.o Deletion.o
	$(CXX)  -c  Errorrate.o Genechoice.o Deletion.o HypermutationfullNmererrorrate.cpp $(igor_LDADD)

Hypermutationglobalerrorrate.o:Hypermutationglobalerrorrate.cpp Hypermutationglobalerrorrate.h Errorrate.o Genechoice.o Deletion.o
	$(CXX)  $(igor_CXXFLAGS) -c Errorrate.o Genechoice.o Deletion.o Hypermutationglobalerrorrate.cpp $(igor_LDADD)

Insertion.o:Insertion.cpp Insertion.h Rec_Event.o Utils.o Errorrate.o
	$(CXX)  -c Rec_Event.o Utils.o Errorrate.o Insertion.cpp $(igor_LDADD)

IntStr.o:IntStr.cpp IntStr.h
	$(CXX)  -c IntStr.cpp

Model_Parms.o:Model_Parms.cpp Model_Parms.h Errorrate.o Insertion.o Deletion.o Genechoice.o Singleerrorrate.o Dinuclmarkov.o Hypermutationglobalerrorrate.o HypermutationfullNmererrorrate.o
	$(CXX)  $(igor_CXXFLAGS) -c Errorrate.o Insertion.o Deletion.o Genechoice.o Singleerrorrate.o Dinuclmarkov.o Hypermutationglobalerrorrate.o HypermutationfullNmererrorrate.o Model_Parms.cpp $(igor_LDADD)

Model_marginals.o:Model_marginals.cpp Model_marginals.h Model_Parms.o Rec_Event.o
	$(CXX)  $(igor_CXXFLAGS) -c Model_Parms.o Rec_Event.o Model_marginals.cpp $(igor_LDADD)

Pgencounter.o:Pgencounter.cpp Pgencounter.h Counter.o
	$(CXX) $(igor_CXXFLAGS)  -c Counter.o Pgencounter.cpp $(igor_LDADD)

Rec_Event.o:Rec_Event.cpp Rec_Event.h Aligner.o Errorrate.o IntStr.o Utils.o
	$(CXX)  $(igor_CXXFLAGS) -c Aligner.o Errorrate.o IntStr.o Utils.o Rec_Event.cpp $(igor_LDADD)

Singleerrorrate.o:Singleerrorrate.cpp Singleerrorrate.h Errorrate.o Utils.o
	$(CXX)  -c Errorrate.o Utils.o Singleerrorrate.cpp $(igor_LDADD)

Utils.o:Utils.cpp Utils.h
	$(CXX)   -c Utils.cpp $(igor_LDADD)


testo.o:testo.cpp testo.h
	$(CXX)  -c testo.cpp

clean:
	rm $(O_FILES)
